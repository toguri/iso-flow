# NBA Trade Scraper MVP タスク一覧

## サービスゴール
NBAトレード情報を自動収集・分析し、ファンやアナリストに価値ある情報を提供するプラットフォーム

## MVP（Minimum Viable Product）の定義

### MVP機能要件
1. **自動データ収集**: 複数ソースからトレード情報を自動収集
2. **基本的な検索・フィルタリング**: カテゴリー、日付、チームでの絞り込み
3. **シンプルなWebインターフェース**: 情報を見やすく表示
4. **リアルタイム更新**: 最新情報を定期的に取得

### MVPで実装しない機能
- ユーザー認証・パーソナライゼーション
- 通知機能
- 詳細な分析・統計機能
- モバイルアプリ

## タスク一覧（2025/07/29更新）

### ✅ 完了済みタスク

#### バックエンド
1. **データベース設計・実装（PostgreSQL）**
   - ✅ PostgreSQLのセットアップ
   - ✅ トレード情報テーブルの設計（trade_news）
   - ✅ チーム情報テーブルの設計（teams）
   - ✅ マイグレーション設定（migrations_postgres）

2. **スクレイピングデータの永続化**
   - ✅ 取得したデータをDBに保存する機能
   - ✅ 重複チェック機能の実装
   - ✅ データ更新ロジックの実装

3. **定期実行ジョブの実装（5分間隔）**
   - ✅ スケジューラーの実装（tokio-cron-scheduler）
   - ✅ 新規データのみをDB保存するロジック
   - ✅ エラー時のリトライ機能

4. **GraphQL API実装**
   - ✅ 全ニュース取得（tradeNews）
   - ✅ カテゴリー別取得（tradeNewsByCategory）
   - ✅ ソース別取得（tradeNewsBySource）
   - ✅ スクレイピング実行（scrapeRss mutation）

#### フロントエンド
5. **フロントエンド基本構築（Kotlin Compose for Web）**
   - ✅ Kotlin/JSプロジェクトのセットアップ
   - ✅ Apollo GraphQLクライアントの設定
   - ✅ 基本的なレイアウト作成

6. **トレード情報一覧画面**
   - ✅ 最新情報の表示（NewsCard、NewsList）
   - ✅ 基本的なUIコンポーネント

7. **フィルタリング機能**
   - ✅ カテゴリー別フィルター（Trade/Signing/Other）
   - ✅ 基本的なフィルタリングUI

### 🚧 MVP達成に必要な残タスク

#### 優先度：高（MVP必須）
1. **フロントエンド・バックエンド統合**
   - [ ] CORS設定の確認・修正
   - [ ] APIエンドポイント接続（localhost:8000）
   - [ ] GraphQLクライアントの動作確認
   - [ ] エラーハンドリングの実装

2. **スケジューラーの本番稼働設定**
   - [ ] systemdサービスファイルの作成
   - [ ] ログローテーションの設定
   - [ ] 基本的な監視・アラート設定

3. **デプロイ環境構築**
   - [ ] Docker環境の動作確認
   - [ ] 環境変数の整理（.env.example作成）
   - [ ] docker-compose.ymlの本番用設定

#### 優先度：中（MVP後すぐ）
4. **UI/UXの改善**
   - [ ] ローディング状態の表示
   - [ ] エラー時の適切なメッセージ表示
   - [ ] ページネーション実装
   - [ ] 日付範囲フィルターの追加

5. **GraphQLスキーマの拡張**
   - [ ] チーム情報のクエリ追加
   - [ ] 日付範囲でのフィルタリング機能
   - [ ] ページネーション対応

6. **レスポンシブデザイン対応**
   - [ ] モバイル対応
   - [ ] タブレット対応
   - [ ] デスクトップ最適化

#### 優先度：低（運用開始後）
7. **エラーハンドリング・ログ強化**
   - [ ] 構造化ログの実装
   - [ ] エラー監視システムの導入
   - [ ] パフォーマンス監視

8. **CI/CDパイプライン改善**
   - [ ] E2Eテストの追加
   - [ ] 自動デプロイの設定
   - [ ] パフォーマンステストの追加

## 実装順序と進捗

### Phase 1（基盤構築）✅ 95%完了
- ✅ データベース設計・実装
- ✅ スクレイピングデータの永続化
- ✅ 定期実行ジョブの実装
- ✅ GraphQL API実装

### Phase 2（UI実装）✅ 80%完了
- ✅ フロントエンド基本構築
- ✅ トレード情報一覧画面
- ✅ 基本的なフィルタリング機能
- 🚧 エラーハンドリング

### Phase 3（統合・デプロイ）🚧 30%完了
- 🚧 フロントエンド・バックエンド統合
- 🚧 デプロイ環境構築
- ⏳ 本番運用準備

### Phase 4（運用改善）⏳ 0%完了
- ⏳ CI/CDパイプライン改善
- ⏳ 監視システムの強化

## MVP完成までの見積もり
- **残り作業時間**: 10-15時間
- **MVP達成率**: 約68%

## 最近の更新（2025/07/29）
- テストカバレッジを73.66%に改善
- CI/CDにPostgreSQLサービスを追加
- Git pre-commit hookの設定完了